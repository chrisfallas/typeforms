import{createContext as V,useMemo as y} from"react";import{v4 as x} from"uuid";import{useMemo as P,useState as I} from"react";var h=({initialValues:R={},schemaValidation:z,onChange:K,onSubmit:X})=>{const[q,A]=I(R),Y=(O)=>q[O],L=async(O)=>{A((B)=>{const J={...B};return O.forEach(({name:H,value:_})=>{if(["",void 0,null].includes(_))J[H]=void 0;else J[H]=_}),K?.(J),J})},Z=async(O,B)=>{if(B!==Y(O))L([{name:O,value:B}])},Q=async(O)=>{const B=O.target.name;let J=O.target.value;if(J&&O.target.type==="number")J=Number(J);Z(B,J)},T=async(O)=>{O.preventDefault(),X?.({ok:!0,data:q})},W=P(()=>{const O=JSON.stringify(R),B=JSON.stringify(q);return O!==B},[R,q]);return{data:q,isDirty:W,getValue:Y,setValue:Z,setValues:L,onChange:Q,onSubmit:T}},D=h;import{jsxDEV as F} from"react/jsx-dev-runtime";var M=V(null),b=({customFormId:R,initialValues:z,schemaValidation:K,onChange:X,onSubmit:q,render:A,children:Y})=>{const L=y(()=>R||x(),[R]),Q={...D({initialValues:z,schemaValidation:K,onChange:X,onSubmit:q}),formId:L};return F(M.Provider,{value:Q,children:A?A(Q):Y},void 0,!1,void 0,this)},S=b;import{jsxDEV as k} from"react/jsx-dev-runtime";var c=(R)=>{const{initialValues:z,schemaValidation:K,onChange:X,onSubmit:q,children:A,id:Y,render:L,...Z}=R;return k(S,{customFormId:Y,initialValues:z,schemaValidation:K,onChange:X,onSubmit:q,render:(Q)=>k("form",{id:Q.formId,onSubmit:Q.onSubmit,...Z,children:L?L(Q):A},void 0,!1,void 0,this)},void 0,!1,void 0,this)},E=c;import{useContext as C} from"react";var d=()=>{const R=C(M);if(!R)throw new Error("useFormContext must be used within a FormProvider");return R},N=d;var v=(R)=>{const z=N(),K=`${z.formId}-${R}`,X=z.getValue(R);return{id:K,value:X,setValue:async(A)=>{z.setValue(R,A)},onChange:z.onChange}},U=v;import{jsxDEV as $,Fragment as f} from"react/jsx-dev-runtime";var p=(R)=>{const{id:z,name:K,onChange:X,label:q,labelId:A,labelClassName:Y,labelRef:L,labelWrap:Z,labelPlacement:Q,render:T,...W}=R,{value:j,...O}=U(K),B=z||O.id,J=(G)=>{O.onChange(G),X?.(G.target.value)},H={...W,id:B,name:K,value:String(j??""),onChange:J};if(T)return T(H);const _=$("input",{...H},void 0,!1,void 0,this);if(!q)return _;if(Z==="wrap")return $("label",{id:A,className:Y,ref:L,children:[$("span",{children:q},void 0,!1,void 0,this),_]},void 0,!0,void 0,this);const w=$("label",{id:A,className:Y,ref:L,htmlFor:B,children:$("span",{children:q},void 0,!1,void 0,this)},void 0,!1,void 0,this);if(Q==="bottom")return $(f,{children:[_,w]},void 0,!0,void 0,this);return $(f,{children:[w,_]},void 0,!0,void 0,this)},g=p;var i=()=>({Form:E,Input:g,applyTypes:(R)=>R}),$R=i;export{U as useFormElement,N as useFormContext,$R as default};
