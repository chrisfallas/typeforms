import{createContext as V,useMemo as x} from"react";import{v4 as b} from"uuid";import{useMemo as I,useState as h} from"react";var y=({initialValues:q={},schemaValidation:J,onChange:K,onSubmit:X})=>{const[A,B]=h(q),O=(z)=>z?A[z]:void 0,Q=async(z)=>{B((L)=>{const H={...L};return z.forEach(({name:_,value:$})=>{if(["",void 0,null].includes($))H[_]=void 0;else if(_&&$!==O(_))H[_]=$}),K?.(H),H})},Y=async(z,L)=>{if(z&&L!==O(z))Q([{name:z,value:L}])},R=async(z)=>{const L=z.target.name;let H=z.target.value;if(H&&z.target.type==="number")H=Number(H);Y(L,H)},M=async(z)=>{z.preventDefault(),X?.({ok:!0,data:A})},T=I(()=>{const z=JSON.stringify(q),L=JSON.stringify(A);return z!==L},[q,A]);return{data:A,isDirty:T,getValue:O,setValue:Y,setValues:Q,onChange:R,onSubmit:M}},S=y;import{jsxDEV as c} from"react/jsx-dev-runtime";var N=V(null),F=({customFormId:q,initialValues:J,schemaValidation:K,onChange:X,onSubmit:A,render:B,children:O})=>{const Q=x(()=>q||b(),[q]),R={...S({initialValues:J,schemaValidation:K,onChange:X,onSubmit:A}),formId:Q};return c(N.Provider,{value:R,children:B?B(R):O},void 0,!1,void 0,this)},k=F;import{jsxDEV as f} from"react/jsx-dev-runtime";var C=(q)=>{const{initialValues:J,schemaValidation:K,onChange:X,onSubmit:A,children:B,id:O,render:Q,...Y}=q;return f(k,{customFormId:O,initialValues:J,schemaValidation:K,onChange:X,onSubmit:A,render:(R)=>f("form",{id:R.formId,onSubmit:R.onSubmit,...Y,children:Q?Q(R):B},void 0,!1,void 0,this)},void 0,!1,void 0,this)},g=C;import{useContext as d} from"react";var v=()=>{const q=d(N);if(!q)throw new Error("useFormContext must be used within a FormProvider");return q},U=v;var p=(q)=>{const J=U(),K=`${J.formId}-${q}`,X=J.getValue(q);return{id:K,value:X,setValue:async(B)=>{if(q)J.setValue(q,B)},onChange:J.onChange}},j=p;import{jsxDEV as Z,Fragment as E} from"react/jsx-dev-runtime";var i=(q)=>{const{id:J,name:K,value:X,onChange:A,label:B,labelId:O,labelClassName:Q,labelRef:Y,labelWrap:R,labelPlacement:M,render:T,...w}=q,{value:z,...L}=j(K),H=J||L.id,_=(D)=>{L.onChange(D),A?.(D.target.value)},$={...w,id:H,name:K,value:K?String(z??""):X,onChange:_};if(T)return T($);const W=Z("input",{...$},void 0,!1,void 0,this);if(!B)return W;if(R==="wrap")return Z("label",{id:O,className:Q,ref:Y,children:[Z("span",{children:B},void 0,!1,void 0,this),W]},void 0,!0,void 0,this);const G=Z("label",{id:O,className:Q,ref:Y,htmlFor:H,children:Z("span",{children:B},void 0,!1,void 0,this)},void 0,!1,void 0,this);if(M==="bottom")return Z(E,{children:[W,G]},void 0,!0,void 0,this);return Z(E,{children:[G,W]},void 0,!0,void 0,this)},P=i;var s=()=>({Form:g,Input:P,applyTypes:(q)=>q}),$q=s;export{j as useFormElement,U as useFormContext,$q as default};
