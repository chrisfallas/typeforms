import{createContext as I,useMemo as h} from"react";import{v4 as y} from"uuid";import{useState as P} from"react";var V=({initialValues:K={},schemaValidation:B,onChange:L,onSubmit:Q})=>{const[z,J]=P(K),R=(q)=>z[q],O=async(q)=>{J((Y)=>{const A={...Y};return q.forEach(({name:M,value:$})=>{if(["",void 0,null].includes($))A[M]=void 0;else A[M]=$}),L?.(A),A})},Z=async(q,Y)=>{if(Y!==R(q))O([{name:q,value:Y}])};return{data:z,getValue:R,setValue:Z,setValues:O,onChange:async(q)=>{const Y=q.target.name;let A=q.target.value;if(A&&q.target.type==="number")A=Number(A);Z(Y,A)},onSubmit:async(q)=>{q.preventDefault(),Q?.({ok:!0,data:z})}}},G=V;import{jsxDEV as b} from"react/jsx-dev-runtime";var W=I(null),x=({customFormId:K,initialValues:B,schemaValidation:L,onChange:Q,onSubmit:z,render:J,children:R})=>{const O=h(()=>K||y(),[K]),X={...G({initialValues:B,schemaValidation:L,onChange:Q,onSubmit:z}),formId:O};return b(W.Provider,{value:X,children:J?J(X):R},void 0,!1,void 0,this)},f=x;import{jsxDEV as S} from"react/jsx-dev-runtime";var c=(K)=>{const{initialValues:B,schemaValidation:L,onChange:Q,onSubmit:z,children:J,id:R,render:O,...Z}=K;return S(f,{customFormId:R,initialValues:B,schemaValidation:L,onChange:Q,onSubmit:z,render:(X)=>S("form",{id:X.formId,onSubmit:X.onSubmit,...Z,children:O?O(X):J},void 0,!1,void 0,this)},void 0,!1,void 0,this)},g=c;import{useContext as F} from"react";var C=()=>{const K=F(W);if(!K)throw new Error("useFormContext must be used within a FormProvider");return K},H=C;var d=(K)=>{const B=H(),L=`${B.formId}-${K}`,Q=B.getValue(K);return{id:L,value:Q,setValue:async(J)=>{B.setValue(K,J)},onChange:B.onChange}},N=d;import{jsxDEV as _,Fragment as k} from"react/jsx-dev-runtime";var i=(K)=>{const{id:B,name:L,onChange:Q,label:z,labelId:J,labelClassName:R,labelRef:O,labelWrap:Z,labelPlacement:X,render:U,...j}=K,{value:q,...Y}=N(L),A=B||Y.id,M=(D)=>{Y.onChange(D),Q?.(D.target.value)},$={...j,id:A,name:L,value:String(q??""),onChange:M};if(U)return U($);const T=_("input",{...$},void 0,!1,void 0,this);if(!z)return T;if(Z==="wrap")return _("label",{id:J,className:R,ref:O,children:[_("span",{children:z},void 0,!1,void 0,this),T]},void 0,!0,void 0,this);const w=_("label",{id:J,className:R,ref:O,htmlFor:A,children:_("span",{children:z},void 0,!1,void 0,this)},void 0,!1,void 0,this);if(X==="bottom")return _(k,{children:[T,w]},void 0,!0,void 0,this);return _(k,{children:[w,T]},void 0,!0,void 0,this)},E=i;var p=()=>({Form:g,Input:E,applyTypes:(K)=>K}),_K=p;export{N as useFormElement,H as useFormContext,_K as default};
