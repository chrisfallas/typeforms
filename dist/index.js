import{createContext as x,useMemo as h} from"react";import{v4 as y} from"uuid";import{useState as P} from"react";var V=({initialValues:K={},schemaValidation:B,onChange:L,onSubmit:O})=>{const[z,J]=P(K),Q=(q)=>z[q],R=async(q)=>{J((X)=>{const A={...X};return q.forEach(({name:M,value:$})=>{if(["",void 0,null].includes($))A[M]=void 0;else A[M]=$}),L?.(A),A})},Y=async(q,X)=>{if(X!==Q(q))R([{name:q,value:X}])};return{data:z,getValue:Q,setValue:Y,setValues:R,onChange:async(q)=>{const X=q.target.name;let A=q.target.value;if(A&&q.target.type==="number")A=Number(A);Y(X,A)},onSubmit:async(q)=>{q.preventDefault(),O?.({ok:!0,data:z})}}},G=V;import{jsxDEV as c} from"react/jsx-dev-runtime";var U=x(null),I=({customFormId:K,initialValues:B,schemaValidation:L,onChange:O,onSubmit:z,render:J,children:Q})=>{const R=h(()=>K||y(),[K]),Z={...G({initialValues:B,schemaValidation:L,onChange:O,onSubmit:z}),formId:R};return c(U.Provider,{value:Z,children:J?J(Z):Q},void 0,!1,void 0,this)},f=I;import{jsxDEV as g} from"react/jsx-dev-runtime";var b=(K)=>{const{initialValues:B,schemaValidation:L,onChange:O,onSubmit:z,children:J,id:Q,...R}=K;return g(f,{customFormId:Q,initialValues:B,schemaValidation:L,onChange:O,onSubmit:z,render:({formId:Y,onSubmit:Z})=>g("form",{id:Y,onSubmit:Z,...R,children:J},void 0,!1,void 0,this)},void 0,!1,void 0,this)},k=b;import{useContext as C} from"react";var F=()=>{const K=C(U);if(!K)throw new Error("useFormContext must be used within a FormProvider");return K},W=F;var d=(K)=>{const B=W(),L=`${B.formId}-${K}`,O=B.getValue(K);return{id:L,value:O,setValue:async(J)=>{B.setValue(K,J)},onChange:B.onChange}},H=d;import{jsxDEV as _,Fragment as S} from"react/jsx-dev-runtime";var v=(K)=>{const{id:B,name:L,onChange:O,label:z,labelId:J,labelClassName:Q,labelRef:R,labelWrap:Y,labelPlacement:Z,render:T,...j}=K,{value:q,...X}=H(L),A=B||X.id,M=(D)=>{X.onChange(D),O?.(D.target.value)};if(K.children)return K.children;const $={...j,id:A,name:L,value:String(q??""),onChange:M};if(T)return T($);const N=_("input",{...$},void 0,!1,void 0,this);if(!z)return N;if(Y==="wrap")return _("label",{id:J,className:Q,ref:R,children:[_("span",{children:z},void 0,!1,void 0,this),N]},void 0,!0,void 0,this);const w=_("label",{id:J,className:Q,ref:R,htmlFor:A,children:_("span",{children:z},void 0,!1,void 0,this)},void 0,!1,void 0,this);if(Z==="bottom")return _(S,{children:[N,w]},void 0,!0,void 0,this);return _(S,{children:[w,N]},void 0,!0,void 0,this)},E=v;var i=()=>({Form:k,Input:E,applyTypes:(K)=>K}),_K=i;export{H as useFormElement,W as useFormContext,_K as default};
